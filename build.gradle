plugins {
    id 'java'
    id "com.github.spacialcircumstances.gradle-cucumber-reporting" version "0.1.25"
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    testImplementation(platform("org.junit:junit-bom:5.9.2"))
    testImplementation(platform("io.cucumber:cucumber-bom:7.11.2"))
    testImplementation 'io.cucumber:cucumber-java:7.11.2'
    testImplementation 'io.cucumber:cucumber-junit:7.11.2'
    testImplementation 'org.junit.vintage:junit-vintage-engine:5.7.2'
    testImplementation 'org.hamcrest:hamcrest:2.2'
    testImplementation 'io.github.bonigarcia:webdrivermanager:5.3.2'
    implementation 'org.seleniumhq.selenium:selenium-java:4.1.2' // stable version is 3.141.59

}

clean.doFirst {
    delete "$projectDir/target/cucumber-reports", "$projectDir/target/cucumber-html-reports"
}

cucumberReports {
    outputDir = file("$projectDir/target/")
    buildId = '0'
    reports = files("$projectDir/target/cucumber-reports/Cucumber_report.json") // report is generated by this location
}
